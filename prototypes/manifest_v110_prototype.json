{
  "main": "main.py",
  "name": "RemoveSamples",
  "homepage": "https://github.com/Anunnaki-Astronaut/RemoveSamples-NZBGet",
  "kind": "POST-PROCESSING",
  "displayName": "Remove Samples",
  "version": "1.1.0",
  "nzbgetMinVersion": "23",
  "author": "Anunnaki-Astronaut",
  "license": "GPL-2.0-only",
  "about": "Detects and removes sample files/folders; includes an optional Test Mode.",
  "queueEvents": "",
  "requirements": [
    "This script requires Python 3.8+ to be installed on your system."
  ],
  "description": [
    "Remove Samples identifies and removes sample files and directories using name/size heuristics and configurable thresholds.",
    "SETUP: Settings → Categories → [Your Category] → ExtensionScripts → Add 'RemoveSamples'. Place it AFTER unpack and BEFORE your media manager."
  ],
  "options": [
    {
      "name": "RemoveDirectories",
      "displayName": "Remove Directories",
      "value": "Yes",
      "description": [
        "Delete entire directories with sample patterns (samples/, SAMPLE/, etc.).",
        "Recommended: Yes — removes complete sample folder structures."
      ],
      "select": ["Yes", "No"]
    },
    {
      "name": "RemoveFiles",
      "displayName": "Remove Files",
      "value": "Yes",
      "description": [
        "Delete individual files containing sample patterns in filename or by size threshold.",
        "Recommended: Yes — removes files like movie.sample.mkv."
      ],
      "select": ["Yes", "No"]
    },
    {
      "name": "TestMode",
      "displayName": "Test Mode",
      "value": "No",
      "description": [
        "Safe preview. Shows what would be removed; makes no changes. Use while tuning, then turn off.",
        "Temporarily set thresholds (e.g., Video Size Threshold) so tests catch likely samples.",
        "See results in NZBGet → Messages and in the NZB’s History log.",
        "Heads-up: Avoid combining with… Debug (On) — can produce very verbose logs."
      ],
      "select": ["Yes", "No"]
    },
    {
      "name": "BlockImportDuringTest",
      "displayName": "Block Import",
      "value": "No",
      "description": [
        "Use with Test Mode to prevent your media manager (e.g., Sonarr/Radarr) from importing this download.",
        "No files are deleted; this helps keep test runs out of your library.",
        "Depending on manager settings, the release may be marked failed/blacklisted.",
        "Recommended: Enable only for specific test cases, then turn off."
      ],
      "select": ["Yes", "No"]
    },
    {
      "name": "Debug",
      "displayName": "Debug",
      "value": "No",
      "description": [
        "Advanced troubleshooting: prints per-item decision lines and configuration details.",
        "Not required for Test Mode (Test Mode already prints a summary to Messages/History).",
        "Enable only during setup or when investigating issues; leave Off for normal use.",
        "Heads-up: Avoid combining with… Test Mode (On) for routine use — can produce very verbose logs."
      ],
      "select": ["Yes", "No"]
    },
    {
      "name": "VideoSizeThresholdMB",
      "displayName": "Video Size Threshold (MB)",
      "value": 150,
      "description": [
        "Maximum size (MB) for video files to be considered samples (only if no explicit name match).",
        "Common presets: 50 (480p), 100 (720p), 150 (1080p), 300 (4K).",
        "Higher values = more aggressive detection (range: 1–1000)."
      ],
      "select": [1, 1000]
    },
    {
      "name": "VideoExts",
      "displayName": "Video Extensions",
      "value": ".mkv,.mp4,.avi,.mov,.wmv,.flv,.webm,.ts,.m4v,.vob,.mpg,.mpeg,.iso",
      "description": [
        "Comma-separated video extensions for size-based detection.",
        "Default covers most common formats. Add rare formats if needed."
      ],
      "select": []
    },
    {
      "name": "AudioSizeThresholdMB",
      "displayName": "Audio Size Threshold (MB)",
      "value": 2,
      "description": [
        "Maximum size (MB) for audio files to be considered samples (only if no explicit name match).",
        "Common presets: 1 (short clips), 2 (≈30s @ 320kbps), 4 (≈1min), 8 (≈2min).",
        "Set to 0 to disable audio size detection (range: 0–100)."
      ],
      "select": [0, 100]
    },
    {
      "name": "AudioExts",
      "displayName": "Audio Extensions",
      "value": ".mp3,.flac,.aac,.ogg,.wma,.m4a,.opus,.wav,.alac,.ape",
      "description": [
        "Comma-separated audio extensions for size-based detection.",
        "Covers lossless (FLAC, WAV) and compressed (MP3, AAC) formats."
      ],
      "select": []
    },
    {
      "name": "RelativePercent",
      "displayName": "Relative Size %",
      "value": 8,
      "description": [
        "Treat a file as a sample if it is ≤ this percent of the largest video in the NZB folder.",
        "Lower = stricter (catches more); Higher = keeps more extras. Start around 8%.",
        "Heads-up: Avoid over-strict combos with very high 'Video Size Threshold (MB)'."
      ],
      "select": [0, 100]
    },
    {
      "name": "ProtectedPaths",
      "displayName": "Protected Names/Paths",
      "value": "poster.jpg,*/subs/*,*.srt",
      "description": [
        "Never remove items matching these names or globs (comma-separated).",
        "Examples: poster.jpg, */subs/*, *.srt",
        "Heads-up: Protected wins over Image Samples / Junk Extras / Deny Patterns."
      ],
      "select": []
    },
    {
      "name": "DenyPatterns",
      "displayName": "Deny Patterns",
      "value": "*sample*.jpg,proof*.txt",
      "description": [
        "Extra patterns eligible for removal when matched (comma-separated).",
        "Examples: *sample*.jpg, proof*.txt",
        "Heads-up: Still blocked by Protected if both match."
      ],
      "select": []
    },
    {
      "name": "ImageSamples",
      "displayName": "Image Samples",
      "value": "No",
      "description": [
        "Also remove image files that look like samples (e.g., sample.jpg).",
        "Default: No — enable after thresholds are tuned.",
        "Heads-up: Avoid broad Protected rules like *.jpg; Protected always wins."
      ],
      "select": ["Yes", "No"]
    },
    {
      "name": "JunkExtras",
      "displayName": "Junk Extras",
      "value": "No",
      "description": [
        "Remove common release clutter (e.g., .url, spam .txt). Conservative list.",
        "Default: No — enable after thresholds are tuned.",
        "Heads-up: Protected rules covering these files will prevent removal."
      ],
      "select": ["Yes", "No"]
    },
    {
      "name": "CategoryThresholds",
      "displayName": "Category Thresholds",
      "value": "",
      "description": [
        "Per-category Relative % overrides (key=value, comma-separated), e.g.: movies=8,tv=10,anime=14",
        "Unknown categories fall back to the global Relative Size %.",
        "Keeps a single install behaving correctly across Movies/TV/Anime."
      ],
      "select": []
    },
    {
      "name": "QuarantineMode",
      "displayName": "Quarantine Mode",
      "value": "No",
      "description": [
        "Move candidates into '_samples_quarantine' inside the NZB folder instead of deleting.",
        "Good training wheels for live runs; review then delete manually or via Max Age.",
        "Heads-up: Ignored while Test Mode is ON."
      ],
      "select": ["Yes", "No"]
    },
    {
      "name": "QuarantineMaxAgeDays",
      "displayName": "Quarantine Max Age (days)",
      "value": 7,
      "description": [
        "If > 0, purge files in '_samples_quarantine' older than N days on each run.",
        "Set to 0 to disable auto-purge."
      ],
      "select": [0, 365]
    }
  ],
  "commands": [],
  "taskTime": ""
}